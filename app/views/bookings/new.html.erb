<div class="container">
  <div>
    <%# <p class="show-title">Ask Katherine anything...</p> %>
    <p class="show-title">Want to join <strong><%= @hike.title %></strong>?</p>
    <div class="d-flex" style="height: fit-content !important;">
      <div class="show-location">
        <i class="fa-solid fa-location-dot"></i>
        <br>
        <%= @hike.location %></p>
      </div>
      <div class="show-dates">
        <i class="fa-solid fa-calendar-days"></i>
        <br>
        <%= @hike.date %></p>
      </div>
    </div>
<%#
    <div class="message-container" data-controller=“chatroom-subscription”>
      <label for="booking-message">Put message here</label>
      <input type="text" name="booking-message" class="message" data-chatroom-subscription-target="message">
    </div> %>

    <%# Info fiels %>

    <%# ADD Code stimulus controller from above into simple form below!!! %>
    <div class="chat-container mt-3">
      <div class="chat">
        <% if @hike.user.photo.present? %>
          <p><%= cl_image_tag @hike.user.photo.key, class: "avatar-profile", crop: :fill %> Organizer: <%= @hike.user.nickname %></p>
        <% else %>
          <p><img class="avatar-request h-25" alt="avatar" src="https://media.istockphoto.com/vectors/default-profile-picture-avatar-photo-placeholder-vector-illustration-vector-id1223671392?k=6&m=1223671392&s=170667a&w=0&h=zP3l7WJinOFaGb2i1F4g8IS2ylw0FlIaa6x3tP9sebU=" /> Organizer: <%= @hike.user.nickname %></p>
        <% end %>
        <p class="show-title">Request to join</p>

        <%= simple_form_for [@hike, @booking], class: "chat-form-style", style: "" do |f| %>
          <%= f.input :message, as: :text, label: "Tell #{@hike.user.first_name.capitalize} a little about yourself. Why would you like to join this event?",
          input_html: {:size => 500} %>


          <%#= f.simple_fields_for :message do |message_subform| %>
            <%#= message_subform.text_field :content %>
          <%# end %>
          <button type="button" class="btn my-5" style="margin-left: 174px;" data-bs-toggle="modal" data-bs-target="#exampleModal">
              Send message to the event organizer
          </button>

          <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" style="z-index: 2; position: relative;">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Congrats!</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <span><strong>Wowza! 😎 </strong> Your request to join this hike has been sent and can be found in your profile. <%= @hike.user.first_name.capitalize %> will reach out to you soon. </span>

                    <a data-bs-dismiss="alert" aria-label="Close">
                    </a>
                </div>
                <div class="modal-footer">
                    <div class="show-button-container-chat">
                      <%= f.button :submit, "Submit", class: "btn", data: {'bs-toggle': "modal", 'bs-target': "#exampleModal"} %>
                      <%#= link_to "See your upcoming events!", profile_path, class: "show-button" %>
                  </div>
                </div>
              </div>
            </div>
          </div>


        <% end %>
        <div class=“back-link-container”>
          <%= link_to :back do %>
            <p><i class="fa-solid fa-arrow-left" style="font-size: 20px;"></i> Back</p>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
